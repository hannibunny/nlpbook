

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>1.5. Regular expressions in Python &#8212; Natural Language Processing Lecture</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-dropdown.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="../_static/togglebutton.js"></script>
    <script type="text/javascript" src="../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../_static/copybutton.js"></script>
    <script type="text/javascript" src="../_static/sphinx-book-theme.js"></script>
    <script type="text/javascript">var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" type="text/javascript" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script type="text/javascript">
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" type="text/javascript" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.6. Access Tweets" href="06accessTweets.html" />
    <link rel="prev" title="1.4. Access RSS Feed" href="04crawlRSSFeeds.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/hdmlogomed.jpg" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Natural Language Processing Lecture</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Introduction
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1 current active">
  <a class="reference internal" href="01access.html">
   1. Access and Preprocess Text
  </a>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="01AccessTextFromFile.html">
     1.1. Access and Analyse Contents of Textfiles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02crawlHTMLcontent.html">
     1.2. Access Contents of HTML Page
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03crawlWebSites.html">
     1.3. Download HTML Files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04crawlRSSFeeds.html">
     1.4. Access RSS Feed
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     1.5. Regular expressions in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06accessTweets.html">
     1.6. Access Tweets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../02normalisation/02normalisation.html">
   2. Word Normalisation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../03postagging/03postagging.html">
   3. Part-Of-Speech Tagging
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../04ngram/04ngram.html">
   4. N-Gram Language Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05representations/05representations.html">
   5. Vector Representations of Words and Documents
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05representations/01WordEmbeddingImplementation.html">
   6. Applying Word-Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05representations/02gensimDocModelSimple.html">
   7. Document models and similarity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05representations/05topicextraction.html">
   8. Topic Extraction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../06classification/06classification.html">
   9. Text Classification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../07neuralnetworks/07neuralnetworks.html">
   10. Neural Networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../referenceSection.html">
   11. References
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/01access/05RegularExpressions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/01access/05RegularExpressions.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/executablebooks/jupyter-book/blob/master/01access/05RegularExpressions.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#regular-expressions-operators-and-characterclass-symbols">
   1.5.1. Regular Expressions Operators and Characterclass Symbols
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#definition-of-patterns">
   1.5.2. Definition of patterns
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#matching-and-searching">
   1.5.3. Matching and Searching
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#segmentation-into-words-using-regular-expressions">
   1.5.4. Segmentation into words using regular expressions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#segmentation-into-words-using-nltk">
   1.5.5. Segmentation into words using NLTK
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#segmentation-into-sentences-using-regular-expressions">
   1.5.6. Segmentation into sentences using regular expressions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#segmentation-into-sentences-using-nltk">
   1.5.7. Segmentation into sentences using NLTK
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="regular-expressions-in-python">
<h1><span class="section-number">1.5. </span>Regular expressions in Python<a class="headerlink" href="#regular-expressions-in-python" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Author:      Johannes Maucher</p></li>
<li><p>Last update: 2020-09-09</p></li>
</ul>
<p>This notebook demonstrates the application of regular expressions in Python.</p>
<div class="section" id="regular-expressions-operators-and-characterclass-symbols">
<h2><span class="section-number">1.5.1. </span>Regular Expressions Operators and Characterclass Symbols<a class="headerlink" href="#regular-expressions-operators-and-characterclass-symbols" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Operator</p></th>
<th class="head"><p>Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>.</p></td>
<td><p>Wildcard, matches any character</p></td>
</tr>
<tr class="row-odd"><td><p>^abc</p></td>
<td><p>Matches some pattern abc at the start of a string</p></td>
</tr>
<tr class="row-even"><td><p>abc$</p></td>
<td><p>Matches some pattern abc at the end of a string</p></td>
</tr>
<tr class="row-odd"><td><p>[abc]</p></td>
<td><p>Matches one of a set of characters</p></td>
</tr>
<tr class="row-even"><td><p>[A-Z0-9]</p></td>
<td><p>Matches one of a range of characters</p></td>
</tr>
<tr class="row-odd"><td><p>*</p></td>
<td><p>Zero or more of previous item, e.g. a*, [a-z]* (also known as Kleene Closure)</p></td>
</tr>
<tr class="row-even"><td><p>+</p></td>
<td><p>One or more of previous item, e.g. a+, [a-z]+</p></td>
</tr>
<tr class="row-odd"><td><p>?</p></td>
<td><p>Zero or one of the previous item (i.e. optional), e.g. a?, [a-z]?</p></td>
</tr>
<tr class="row-even"><td><p>{n}</p></td>
<td><p>Exactly n repeats where n is a non-negative integer</p></td>
</tr>
<tr class="row-odd"><td><p>{n,}</p></td>
<td><p>At least n repeats</p></td>
</tr>
<tr class="row-even"><td><p>{,n}</p></td>
<td><p>No more than n repeats</p></td>
</tr>
<tr class="row-odd"><td><p>{m,n}</p></td>
<td><p>At least m and no more than n repeats</p></td>
</tr>
<tr class="row-even"><td><p>a([aA])+</p></td>
<td><p>Parentheses that indicate the scope of the operators</p></td>
</tr>
</tbody>
</table>
<p>In addition to the operators listed above the <code class="docutils literal notranslate"><span class="pre">|</span></code>- operator is also frequently used. It acts as a disjunction, for example
<code class="docutils literal notranslate"><span class="pre">|ed|ing|s|</span></code> matches to all character sequences with either <code class="docutils literal notranslate"><span class="pre">ed</span></code>, <code class="docutils literal notranslate"><span class="pre">ing</span></code> or <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p>
<p>For frequently applied character classes, the following shortcut-symbols are defined:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Symbol</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>\d</p></td>
<td><p>Any decimal digit (equivalent to [0-9])</p></td>
</tr>
<tr class="row-odd"><td><p>\D</p></td>
<td><p>Any non-digit character (equivalent to [^0-9])</p></td>
</tr>
<tr class="row-even"><td><p>\s</p></td>
<td><p>Any whitespace character (equivalent to [ \t\n\r\f\v])</p></td>
</tr>
<tr class="row-odd"><td><p>\S</p></td>
<td><p>Any non-whitespace character (equivalent to [^ \t\n\r\f\v])</p></td>
</tr>
<tr class="row-even"><td><p>\w</p></td>
<td><p>Any alphanumeric character (equivalent to [a-zA-Z0-9_])</p></td>
</tr>
<tr class="row-odd"><td><p>\W</p></td>
<td><p>Any non-alphanumeric character (equivalent to [^a-zA-Z0-9_])</p></td>
</tr>
<tr class="row-even"><td><p>\b</p></td>
<td><p>Boundary between word and non-word</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="definition-of-patterns">
<h2><span class="section-number">1.5.2. </span>Definition of patterns<a class="headerlink" href="#definition-of-patterns" title="Permalink to this headline">¶</a></h2>
<p>Regular expressions are patterns of character sequences. In Python such patterns must be defined as <strong>raw strings</strong>. A raw string is a character sequence, which is not interpreted. A string is defined as raw-string, by the prefix <code class="docutils literal notranslate"><span class="pre">r</span></code>. For example</p>
<p><code class="docutils literal notranslate"><span class="pre">mypattern</span> <span class="pre">=</span> <span class="pre">r&quot;[0-9]+\s&quot;</span></code></p>
<p>is a raw string pattern, which matches to all sequences which consist of one ore more decimal numbers, followed by a white-space character.</p>
</div>
<div class="section" id="matching-and-searching">
<h2><span class="section-number">1.5.3. </span>Matching and Searching<a class="headerlink" href="#matching-and-searching" title="Permalink to this headline">¶</a></h2>
<p>The two main application categories of regular expressions are matching and searching:</p>
<ul class="simple">
<li><p>In matching applications the pattern represents a syntactic rule and an arbitrary character sequence (text) is parsed, if it is consistent to this syntax. For example in an web-interface, where users can enter their date of birth a regular expression can be applied to check if the user entered the date in an acceptable format.</p></li>
<li><p>In search applications the pattern defines a type of character-sequence, which is searched for in an arbitrary long text.</p></li>
</ul>
<p>The most important methods of the Python regular expression package <code class="docutils literal notranslate"><span class="pre">re</span></code> are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">re.findall(pattern,text)</span></code>: Searches in the string-variable <code class="docutils literal notranslate"><span class="pre">text</span></code>- for all matches with <code class="docutils literal notranslate"><span class="pre">pattern</span></code>. All found non-overlapping matches are returned as a list of strings.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">re.split(pattern,text)</span></code>: Searches in the string-variable <code class="docutils literal notranslate"><span class="pre">text</span></code>- for all matches with <code class="docutils literal notranslate"><span class="pre">pattern</span></code>. At all found patterns the text is split. A list of all splits is returned.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">re.search(pattern,text)</span></code>: Searches in the string-variable <code class="docutils literal notranslate"><span class="pre">text</span></code>- for all matches with <code class="docutils literal notranslate"><span class="pre">pattern</span></code>. The first found match is returned as a <em>match-object</em>. The return value is <code class="docutils literal notranslate"><span class="pre">None</span></code>, if no matches are found.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">re.match(pattern,text)</span></code>: Checks if the first characters of the string-variable <code class="docutils literal notranslate"><span class="pre">text</span></code> match to the pattern. If this is the case a <em>match-object</em> is returned, otherwise <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">re.sub(pattern,replacement,text)</span></code>: Searches for all matches of pattern in text and replaces this matches by the string <code class="docutils literal notranslate"><span class="pre">replacement</span></code>.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">re</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dummytext1</span><span class="o">=</span><span class="s2">&quot;His email-address is foo.bar@bar-foo.com but he doesn&#39;t check his emails frequently&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Assume, that we have texts, that contain email-addresses, like the dummy-text above. The task is to find all email addresses in the text. For this we can define a pattern, which matches to syntactically correct email-addresses and pass this pattern to the <code class="docutils literal notranslate"><span class="pre">findall(pattern,text)</span></code>-method of the <code class="docutils literal notranslate"><span class="pre">re</span></code>-package:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mailpattern</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;[\w_\.-]+@[\w_\.-]+\.\w+&#39;</span>
<span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">mailpattern</span><span class="p">,</span><span class="n">dummytext1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;foo.bar@bar-foo.com&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dummytext2</span><span class="o">=</span><span class="s2">&quot;This is just a dummy test, which is applied for demonstrating regular expressions in Python. The current date is 2017-10-17.&quot;</span>
</pre></div>
</div>
</div>
</div>
<p>Find first word, which begins with character <em>d</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pattern1</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\s[d]\S*\s&quot;</span>
<span class="n">search_result</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">pattern1</span><span class="p">,</span><span class="n">dummytext2</span><span class="p">)</span>
<span class="k">if</span> <span class="n">search_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_result</span><span class="o">.</span><span class="n">group</span><span class="p">())</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pattern not in Text&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> dummy 
</pre></div>
</div>
</div>
</div>
<p>Find all words, which begin with character <em>d</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">search_result</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern1</span><span class="p">,</span><span class="n">dummytext2</span><span class="p">)</span>
<span class="k">if</span> <span class="n">search_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_result</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pattern not in Text&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39; dummy &#39;, &#39; demonstrating &#39;, &#39; date &#39;]
</pre></div>
</div>
</div>
</div>
<p>Find all words, which begin with character <em>d</em>. Return only the words, not the whitespaces around them:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pattern2</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\s([d]\S*)\s&quot;</span>
<span class="n">search_result</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern2</span><span class="p">,</span><span class="n">dummytext2</span><span class="p">)</span>
<span class="k">if</span> <span class="n">search_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_result</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pattern not in Text&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;dummy&#39;, &#39;demonstrating&#39;, &#39;date&#39;]
</pre></div>
</div>
</div>
</div>
<p>Same result as above:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pattern3</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;\b[d]\S*\b&quot;</span>
<span class="n">search_result</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern3</span><span class="p">,</span><span class="n">dummytext2</span><span class="p">)</span>
<span class="k">if</span> <span class="n">search_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">search_result</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Pattern not in Text&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;dummy&#39;, &#39;demonstrating&#39;, &#39;date&#39;]
</pre></div>
</div>
</div>
</div>
<p>Replace substrings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">templateText</span><span class="o">=</span><span class="s2">&quot;Dear Mrs. &lt;Name&gt;, we like to invit you to our &lt;Event&gt;&quot;</span>
<span class="n">name</span><span class="o">=</span><span class="s2">&quot;Keane&quot;</span>
<span class="n">event</span><span class="o">=</span><span class="s2">&quot;summer school&quot;</span>
<span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&lt;Event&gt;&quot;</span><span class="p">,</span><span class="n">event</span><span class="p">,</span><span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;&lt;Name&gt;&quot;</span><span class="p">,</span><span class="n">name</span><span class="p">,</span><span class="n">templateText</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Dear Mrs. Keane, we like to invit you to our summer school&#39;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="segmentation-into-words-using-regular-expressions">
<h2><span class="section-number">1.5.4. </span>Segmentation into words using regular expressions<a class="headerlink" href="#segmentation-into-words-using-regular-expressions" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Es wäre schön, wenn wir mal wieder fußballspielen könnten.</span>
<span class="s2">Oder was meint ihr? Ich bin jederzeit bereit. Thomas habe ich bereits gefragt.</span>
<span class="s2">Er meinte: &quot;Ich schau mir lieber das Spiel der Bayern gegen den 1.FC Köln</span>
<span class="s2">in der Allianz-Arena an.&quot; &quot;&quot;&quot;</span>

<span class="c1">#cleanedTokens=re.findall(r&quot;[\wäüöÄÜÖß]+&quot;,text)  # Einfache Lösung die funktioniert</span>
<span class="n">cleanedTokens</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\s.,;:()!?</span><span class="se">\&quot;</span><span class="s2">]+&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
<span class="c1">#cleanedTokens = text.split()</span>
<span class="c1">#cleanedTokens = re.findall(r&quot;[^\s.,;:()!?\&quot;]+&quot;, text) #liefert gleiches Ergebnis wie Split, jedoch ohne den leeren String</span>
<span class="c1">#cleanedTokens = re.findall(r&quot;\w+[.]\w+|[^\s.,;:()!?\&quot;]+&quot;, text) #Damit wird auch Punkt innerhalb eines Wortes erlaubt</span>

<span class="n">ts</span><span class="o">=</span><span class="nb">set</span><span class="p">(</span><span class="n">cleanedTokens</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Anzahl der unterschiedlichen Tokens: &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ts</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;------------Die Menge der Worte--------------&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ts</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">.,?:&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Anzahl der unterschiedlichen Tokens:  40
------------Die Menge der Worte--------------

1
Allianz-Arena
Bayern
Er
Es
FC
Ich
Köln
Oder
Spiel
Thomas
an
bereit
bereits
bin
das
den
der
fußballspielen
gefragt
gegen
habe
ich
ihr
in
jederzeit
könnten
lieber
mal
meint
meinte
mir
schau
schön
was
wenn
wieder
wir
wäre
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="segmentation-into-words-using-nltk">
<h2><span class="section-number">1.5.5. </span>Segmentation into words using NLTK<a class="headerlink" href="#segmentation-into-words-using-nltk" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="s2">&quot;Test von nltk.regexp_tokenize&quot;</span><span class="p">)</span>
<span class="n">text</span><span class="o">=</span><span class="n">text</span>
<span class="n">ntokens</span><span class="o">=</span><span class="n">nltk</span><span class="o">.</span><span class="n">regexp_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">,</span><span class="sa">r</span><span class="s2">&quot;[\wäöüÄÖÜß]+&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ntokens</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Anzahl der Tokens:     &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ntokens</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------Test von nltk.regexp_tokenize
Es
wäre
schön
wenn
wir
mal
wieder
fußballspielen
könnten
Oder
was
meint
ihr
Ich
bin
jederzeit
bereit
Thomas
habe
ich
bereits
gefragt
Er
meinte
Ich
schau
mir
lieber
das
Spiel
der
Bayern
gegen
den
1
FC
Köln
in
der
Allianz
Arena
an
Anzahl der Tokens:      42
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">20</span><span class="o">+</span><span class="s2">&quot;Test von nltk.word_tokenize&quot;</span><span class="p">)</span>
<span class="n">ntokens</span><span class="o">=</span><span class="n">nltk</span><span class="o">.</span><span class="n">word_tokenize</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">ntokens</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Anzahl der Tokens:     &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">ntokens</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--------------------Test von nltk.word_tokenize
Es
wäre
schön
,
wenn
wir
mal
wieder
fußballspielen
könnten
.
Oder
was
meint
ihr
?
Ich
bin
jederzeit
bereit
.
Thomas
habe
ich
bereits
gefragt
.
Er
meinte
:
``
Ich
schau
mir
lieber
das
Spiel
der
Bayern
gegen
den
1.FC
Köln
in
der
Allianz-Arena
an
.
&#39;&#39;
Anzahl der Tokens:      49
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="segmentation-into-sentences-using-regular-expressions">
<h2><span class="section-number">1.5.6. </span>Segmentation into sentences using regular expressions<a class="headerlink" href="#segmentation-into-sentences-using-regular-expressions" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text1</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Es wäre schön, wenn wir mal wieder fußballspielen könnten.</span>
<span class="s2">Oder was meint ihr? Ich bin jederzeit bereit. Thomas habe ich bereits gefragt.</span>
<span class="s2">Er meinte: &quot;Ich schau mir lieber das Spiel der Bayern gegen den 1.FC Köln </span>
<span class="s2">in der Allianz-Arena an.&quot; &quot;&quot;&quot;</span>

<span class="n">Sents</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[?!.:]+\s&quot;</span><span class="p">,</span><span class="n">text1</span><span class="p">)</span>  <span class="c1"># Einfache Lösung die funktioniert</span>
<span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">Sents</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    <span class="c1">#print </span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Anzahl der Tokens:                   &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">Sents</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>----------
Es wäre schön, wenn wir mal wieder fußballspielen könnten
----------
Oder was meint ihr
----------
Ich bin jederzeit bereit
----------
Thomas habe ich bereits gefragt
----------
Er meinte
----------
&quot;Ich schau mir lieber das Spiel der Bayern gegen den 1.FC Köln 
in der Allianz-Arena an.&quot; 
----------
Anzahl der Tokens:                    6
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="segmentation-into-sentences-using-nltk">
<h2><span class="section-number">1.5.7. </span>Segmentation into sentences using NLTK<a class="headerlink" href="#segmentation-into-sentences-using-nltk" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text2</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;Dr. med. R. Steiner meint es wäre schön, wenn wir mal wieder fußballspielen könnten.</span>
<span class="s2">Oder was meint ihr? Ich bin jederzeit bereit. Thomas usw. habe ich bereits gefragt.</span>
<span class="s2">Er meinte: &quot;Ich schau mir lieber das Spiel der Bayern gegen den 1.FC Köln </span>
<span class="s2">in der Allianz-Arena an.</span><span class="se">\&quot;</span><span class="s2"> Es schauen 7 Mio. zu, inkl. mir selbst. U.a. soll auch Messi etc. dabei sein.</span><span class="se">\&quot;</span><span class="s2">&quot;&quot;&quot;</span>

<span class="n">sent_tokenizer</span><span class="o">=</span><span class="n">nltk</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;tokenizers/punkt/german.pickle&#39;</span><span class="p">)</span>
<span class="n">sents</span> <span class="o">=</span> <span class="n">sent_tokenizer</span><span class="o">.</span><span class="n">tokenize</span><span class="p">(</span><span class="n">text2</span><span class="p">)</span>
<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">sents</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Anzahl der Tokens:                   &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">sents</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>----------
Dr. med. R. Steiner meint es wäre schön, wenn wir mal wieder fußballspielen könnten.
----------
Oder was meint ihr?
----------
Ich bin jederzeit bereit.
----------
Thomas usw. habe ich bereits gefragt.
----------
Er meinte: &quot;Ich schau mir lieber das Spiel der Bayern gegen den 1.FC Köln 
in der Allianz-Arena an.&quot;
----------
Es schauen 7 Mio. zu, inkl. mir selbst.
----------
U.a. soll auch Messi etc. dabei sein.&quot;
----------
Anzahl der Tokens:                    7
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./01access"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="04crawlRSSFeeds.html" title="previous page"><span class="section-number">1.4. </span>Access RSS Feed</a>
    <a class='right-next' id="next-link" href="06accessTweets.html" title="next page"><span class="section-number">1.6. </span>Access Tweets</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Prof. Dr. Johannes Maucher<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../_static/js/index.js"></script>
    
  </body>
</html>