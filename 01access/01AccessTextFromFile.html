
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1.1. Access and Analyse Contents of Textfiles &#8212; Natural Language Processing Lecture</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.5f77b4aec8189eecf79907ce328c390d.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.2. Access Contents of HTML Page" href="02crawlHTMLcontent.html" />
    <link rel="prev" title="1. Access and Preprocess Text" href="01access.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      <img src="../_static/hdmlogomed.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Natural Language Processing Lecture</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Introduction
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="01access.html">
   1. Access and Preprocess Text
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     1.1. Access and Analyse Contents of Textfiles
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02crawlHTMLcontent.html">
     1.2. Access Contents of HTML Page
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03crawlWebSites.html">
     1.3. Download HTML Files
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="04crawlRSSFeeds.html">
     1.4. Access RSS Feed
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="05RegularExpressions.html">
     1.5. Regular expressions in Python
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="06accessTweets.html">
     1.6. Access Tweets
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02normalisation/02normalisation.html">
   2. Word Normalisation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02normalisation/01morphology.html">
     2.1. Morphology
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02normalisation/03StemLemma.html">
     2.2. TextBlob Stemming and Lemmatization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02normalisation/01LevenstheinDistance.html">
     2.3. Correction of Spelling Errors
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03postagging/03postagging.html">
   3. Part-Of-Speech Tagging
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03postagging/01tagsetsAndAlgorithms.html">
     3.1. PoS Tagsets
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03postagging/02PosTagging.html">
     3.3. POS Tagging with NLTK
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../04ngram/04ngram.html">
   4. N-Gram Language Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05representations/05representations.html">
   5. Vector Representations of Words and Documents
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05representations/01WordEmbeddingImplementation.html">
   6. Applying Word-Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../05representations/02gensimDocModelSimple.html">
   7. Document models and similarity
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../05representations/05topicextraction.html">
   8. Topic Extraction
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../05representations/05lsi.html">
     8.1. Latent Semantic Indexing (LSI)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../05representations/02LatentSemanticIndexing.html">
     8.2. Implementation of Topic Extraction and Document Clustering
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../06classification/06classification.html">
   9. Text Classification
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../06classification/06classificationMetrics.html">
     9.1. Validation of Classifiers
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06classification/07classificationNaiveBayes.html">
     9.2. Naive Bayes Text Classification
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../06classification/FakeNewsClassification.html">
     9.3. Text Classification Application: Fake News detection
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../07neuralnetworks/07neuralnetworks.html">
   10. Neural Networks
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../07neuralnetworks/01NeuralNets.html">
     10.1. Neural Networks Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07neuralnetworks/02RecurrentNeuralNetworks.html">
     10.2. Recurrent Neural Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07neuralnetworks/03ConvolutionNeuralNetworks.html">
     10.3. Convolutional Neural Networks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../07neuralnetworks/04CNN.html">
     10.4. CNN, LSTM and Attention for IMDB Movie Review classification
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../referenceSection.html">
   11. References
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/01access/01AccessTextFromFile.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/01access/01AccessTextFromFile.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#character-encoding">
   1.1.1. Character Encoding
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#textfile-from-local-machine">
   1.1.2. Textfile from local machine
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-in-row-by-row">
     1.1.2.1. Read in row by row
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#questions">
       1.1.2.1.1. Questions
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#read-in-text-as-a-whole">
     1.1.2.2. Read in text as a whole
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#segmentation-of-text-string-into-words">
   1.1.3. Segmentation of text-string into words
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#textfile-from-web">
   1.1.4. Textfile from Web
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simple-methods-to-get-a-first-impresson-on-text-content">
   1.1.5. Simple Methods to get a first impresson on text content
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     1.1.5.1. Questions:
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#remove-meta-text">
     1.1.5.2. Remove Meta-Text
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tokenisation">
     1.1.5.3. Tokenisation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#generate-vocabulary-and-determine-number-of-words">
     1.1.5.4. Generate Vocabulary and determine number of words
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#determine-frequency-of-each-word">
     1.1.5.5. Determine Frequency of each word
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#optimization-by-stop-word-removal">
     1.1.5.6. Optimization by stop-word removal
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="access-and-analyse-contents-of-textfiles">
<h1><span class="section-number">1.1. </span>Access and Analyse Contents of Textfiles<a class="headerlink" href="#access-and-analyse-contents-of-textfiles" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Author:      Johannes Maucher</p></li>
<li><p>Last update: 2020-09-09</p></li>
</ul>
<p>In this notebook some important Python string methods are applied. This <a class="reference external" href="https://www.programiz.com/python-programming/methods/string/encode">Python string method docu</a> provides a compact overview.</p>
<div class="section" id="character-encoding">
<h2><span class="section-number">1.1.1. </span>Character Encoding<a class="headerlink" href="#character-encoding" title="Permalink to this headline">¶</a></h2>
<p><img alt="encoding" src="https://maucher.home.hdm-stuttgart.de/Pics/encodings.png" /></p>
<p>In contrast to Python 2.x in Python 3.y strings are stored as unicode, i.e. each string is a sequence of unicode code points. Unicode supports more than 1 million characters. Each character is represented by a <em>code point</em>.</p>
<p>For the efficient storage of strings they are encoded.</p>
<ul class="simple">
<li><p>A <code class="docutils literal notranslate"><span class="pre">str</span></code> can be encoded into <code class="docutils literal notranslate"><span class="pre">bytes</span></code> using the <code class="docutils literal notranslate"><span class="pre">encode()</span></code> method.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bytes</span></code> can be decoded to <code class="docutils literal notranslate"><span class="pre">str</span></code> using the <code class="docutils literal notranslate"><span class="pre">decode()</span></code> method.</p></li>
</ul>
<p>Both methods accept a parameter, which is the encoding used to encode or decode. The default for both is <em>UTF-8</em>.</p>
<p>The following code cells demonstrate the difference between strings and bytes:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s1</span><span class="o">=</span><span class="s2">&quot;die tür ist offen&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s1</span><span class="p">)</span> <span class="c1">#print string</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">s1</span><span class="p">))</span>
<span class="n">b1</span><span class="o">=</span><span class="n">s1</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After utf-8 encoding: &quot;</span><span class="p">,</span><span class="n">b1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">b1</span><span class="p">))</span>
<span class="n">b2</span><span class="o">=</span><span class="n">s1</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;latin-1&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After latin-1 encoding: &quot;</span><span class="p">,</span><span class="n">b2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">b2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>die tür ist offen
&lt;class &#39;str&#39;&gt;
After utf-8 encoding:  b&#39;die t\xc3\xbcr ist offen&#39;
&lt;class &#39;bytes&#39;&gt;
After latin-1 encoding:  b&#39;die t\xfcr ist offen&#39;
&lt;class &#39;bytes&#39;&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Wrong decoding: &quot;</span><span class="p">,</span><span class="n">b1</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;latin-1&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b2</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;latin-1&quot;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b1</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
<span class="c1">#print(b2.decode(&quot;utf-8&quot;))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Wrong decoding:  die tÃ¼r ist offen
die tür ist offen
die tür ist offen
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="textfile-from-local-machine">
<h2><span class="section-number">1.1.2. </span>Textfile from local machine<a class="headerlink" href="#textfile-from-local-machine" title="Permalink to this headline">¶</a></h2>
<div class="section" id="read-in-row-by-row">
<h3><span class="section-number">1.1.2.1. </span>Read in row by row<a class="headerlink" href="#read-in-row-by-row" title="Permalink to this headline">¶</a></h3>
<p>The following code snippet demonstrates how to import text from a file, which is specified by its path and filename. The example text file is <span class="xref myst">ZeitOnlineLandkartenA.txt</span>.
In this first snippet the text in the file is read line by line. Each line is stored into a single string variable. The string variables of all lines are stored in a Python list.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;../Data/ZeitOnlineLandkartenA.txt&quot;</span>
<span class="n">listOfLines</span><span class="o">=</span><span class="p">[]</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin-1&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fin</span><span class="p">:</span>
        <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="n">listOfLines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of Lines:  &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">listOfLines</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Landkarten mit Mehrwert
Ob als Reiseführer, Nachrichtenkanal oder Bürgerinitiative: Digitale Landkarten lassen
sich vielseitig nutzen. ZEIT ONLINE stellt einige der interessantesten Dienste vor.

Die Zeit, in der Landkarten im Netz bloß der Routenplanung dienten, ist längst vorbei.
Denn mit den digitalen Karten von Google Maps und der Open-Source-Alternative
OpenStreetMap kann man sich spannendere Dinge als den Weg von A nach B anzeigen
lassen. Über offene Programmschnittstellen (API) lassen sich Daten von anderen
Websites mit dem Kartenmaterial verknüpfen oder eigene Informationen eintragen.
Das Ergebnis nennt sich Mashup  ein Mischmasch aus Karten und Daten sozusagen.
Die Bewertungscommunity Qype nutzt diese Möglichkeit schon lange, um Adressen und
Bewertungen miteinander zu verknüpfen und mithilfe von Google Maps darzustellen.
Auch Immobilienbörsen, Branchenbücher und Fotodienste kommen kaum noch ohne eigene
Kartenfunktion aus. Dank der Integration von Geodaten in Smartphones werden soziale
Kartendienste immer beliebter. Auch sie nutzen die offenen Schnittstellen.
Neben kommerziellen Diensten profitieren aber auch Privatpersonen und unabhängige
Projekte von den Möglichkeiten des frei zugänglichen Kartenmaterials.
Das Open-Data-Netzwerk versucht, öffentlich zugängliche Daten zu sammeln und neue
Möglichkeiten für Bürger herauszuarbeiten. So können Anwohner in England schon länger
über FixMyStreet Reparaturaufträge direkt an die Behörden übermitteln.
Unter dem Titel Frankfurt-Gestalten gibt es seit Frühjahr ein ähnliches Pilotprojekt
für Frankfurt am Main. Hier geht es um weit mehr als Reparaturen. Die Seite soll
einen aktiven Dialog zwischen Bürgern und ihrer Stadt ermöglichen  partizipative
Lokalpolitik ist das Stichwort.
Tausende dieser Mashups und Initiativen gibt es inzwischen.
Sie bewegen sich zwischen bizarr und faszinierend, unterhaltsam und informierend.
ZEIT ONLINE stellt einige der interessantesten vor. Sie zeigen, was man mit
öffentlichen Datensammlungen alles machen kann.
Number of Lines:   28
</pre></div>
</div>
</div>
</div>
<div class="section" id="questions">
<h4><span class="section-number">1.1.2.1.1. </span>Questions<a class="headerlink" href="#questions" title="Permalink to this headline">¶</a></h4>
<p>Run the cell above without setting the <code class="docutils literal notranslate"><span class="pre">encoding</span></code>-parameter in the <code class="docutils literal notranslate"><span class="pre">open()</span></code>-method. What happens?
A list of codecs supported by python can be found <a class="reference external" href="https://docs.python.org/2/library/codecs.html#standard-encodings">here</a>.</p>
</div>
</div>
<div class="section" id="read-in-text-as-a-whole">
<h3><span class="section-number">1.1.2.2. </span>Read in text as a whole<a class="headerlink" href="#read-in-text-as-a-whole" title="Permalink to this headline">¶</a></h3>
<p>The entire contents of the file can also be read as a whole and stored in a single string variable:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">,</span><span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;latin-1&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="n">text</span><span class="o">=</span><span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="mi">300</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Number of Characters in Text:  &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">text</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Landkarten mit Mehrwert
Ob als Reiseführer, Nachrichtenkanal oder Bürgerinitiative: Digitale Landkarten lassen
sich vielseitig nutzen. ZEIT ONLINE stellt einige der interessantesten Dienste vor.
 
Die Zeit, in der Landkarten im Netz bloß der Routenplanung dienten, ist längst vorbei. 
Denn mit den di

Number of Characters in Text:   2041
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="segmentation-of-text-string-into-words">
<h2><span class="section-number">1.1.3. </span>Segmentation of text-string into words<a class="headerlink" href="#segmentation-of-text-string-into-words" title="Permalink to this headline">¶</a></h2>
<p>The entire text, which is now stored in the single variable <em>text</em> can be split into it’s words by applying the <code class="docutils literal notranslate"><span class="pre">split()</span></code>-method. The words are stored in a list of strings (<code class="docutils literal notranslate"><span class="pre">wordlist</span></code>). The words in the wordlist may end with punctuation marks. These marks are removed by applying the python string-method <code class="docutils literal notranslate"><span class="pre">strip()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wordlist</span><span class="o">=</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">cleanwordlist</span><span class="o">=</span><span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;().,:;!?-&quot;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">wordlist</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First 12 words of the list:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">cleanwordlist</span><span class="p">[:</span><span class="mi">12</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of tokens:                   &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">cleanwordlist</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of different tokens (=size of vocabulary):  &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">cleanwordlist</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>First 12 words of the list:
 [&#39;landkarten&#39;, &#39;mit&#39;, &#39;mehrwert&#39;, &#39;ob&#39;, &#39;als&#39;, &#39;reiseführer&#39;, &#39;nachrichtenkanal&#39;, &#39;oder&#39;, &#39;bürgerinitiative&#39;, &#39;digitale&#39;, &#39;landkarten&#39;, &#39;lassen&#39;]
Number of tokens:                    267
Number of different tokens (=size of vocabulary):   187
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="textfile-from-web">
<h2><span class="section-number">1.1.4. </span>Textfile from Web<a class="headerlink" href="#textfile-from-web" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">re</span>
</pre></div>
</div>
</div>
</div>
<p>Download <strong>Alice in Wonderland (Lewis Carol)</strong> from <a class="reference external" href="http://textfiles.com/etext">http://textfiles.com/etext</a>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">30</span><span class="o">+</span><span class="s2">&quot;1. Download Alice in Wonderland&quot;</span><span class="o">+</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>
<span class="n">urlAlice</span><span class="o">=</span><span class="s2">&quot;http://textfiles.com/etext/FICTION/alice.txt&quot;</span>
<span class="c1">#urlAlice=&quot;https://archive.org/stream/alicewonderlanda00carr/alicewonderlanda00carr_djvu.txt&quot;</span>
<span class="n">rawAlice</span><span class="o">=</span><span class="n">urlopen</span><span class="p">(</span><span class="n">urlAlice</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;latin-1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>----------------------------------------------------------------------------------------------------
------------------------------1. Download Alice in Wonderland--------------------
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First 4000 characters of downloaded text:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span><span class="n">rawAlice</span><span class="p">[:</span><span class="mi">4000</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>First 4000 characters of downloaded text:
           PROJECT GUTENBERG AND DUNCAN RESEARCH SHAREWARE

                             (c)1991

Project Gutenberg has made arrangements with Duncan Research for
the distribution of Duncan Research Electronic Library text.  No
money is solicited by Project Gutenberg.  All donations go to:

Barbara  Duncan
Duncan Research
P.O.  Box  2782
Champaign,   IL
61825 - 2782

Please, if you send in a request for information, donate enough,
or more than enough to cover the cost of writing, printing, etc.
as well as the cost of postage.

This is Shareware, you may post it intact anywhere, as long as a
profit is not incurred.

As Shareware, no legal obligation is assumed by you to donate in
manners monetary or assistance in the creations or distributions
of electronic texts.  These files are claimed under copyright to
protect their integrity, therefore you are required to pass them
on intact, but you may make changes to your own copies.  We want
to know if any mistakes you find, so we can correct them in text
editions to come.  We hope you will want to donate texts of your
own for distribution in this manner.  If you would like payments
in the same manner as above, just include a similar statement.

Neither Prof. Hart nor Project Gutenberg nor Duncan Research has
any official connection with the University of Illinois.

*****************************************************************

      Project Gutenberg Release 2.7a of Alice in Wonderland

These electronic texts of the classics are released in the CopyLeft
traditions of the Free Software Foundation and Richard M. Stallman.
This means the document is to be considered under copyright, and an
individual may make as may copies for self and/or friends, etc. and
will be under no obligation as long as this is not commercial.  Not
for profit corporations and all other corporate entities are not to
distribute this file for any more cost to the user than $2 and only
if a disk is provided for that fee, including all shipping-handling
and/or other fees associated with that disk.  If this file is to be
included with any other hardware, software or other material no fee
may be charged for this file.  If anyone finds an error, and we are
sure you will, please email location of the errors to hart@uiucvmd,
(BITNET) or hart@vmd.cso.uiuc.edu (INTERNET), or to Duncan Research
via U.S. Mail at the address below.


Please mail corrections to the above address, or via email to:

hart@uiucvmd.bitnet
or
hart@vmd.uiuc.cso.edu

Neither Prof. Hart nor Project Gutenberg nor Duncan Research has
any official connection with the University of Illinois.


                ALICE&#39;S ADVENTURES IN WONDERLAND

                          Lewis Carroll

               THE MILLENNIUM FULCRUM EDITION 2.7a
                     (C)1991 Duncan Research



                            CHAPTER I

                      Down the Rabbit-Hole


  Alice was beginning to get very tired of sitting by her sister
on the bank, and of having nothing to do:  once or twice she had
peeped into the book her sister was reading, but it had no
pictures or conversations in it, `and what is the use of a book,&#39;
thought Alice `without pictures or conversation?&#39;

  So she was considering in her own mind (as well as she could,
for the hot day made her feel very sleepy and stupid), whether
the pleasure of making a daisy-chain would be worth the trouble
of getting up and picking the daisies, when suddenly a White
Rabbit with pink eyes ran close by her.

  There was nothing so VERY remarkable in that; nor did Alice
think it so VERY much out of the way to hear the Rabbit say to
itself, `Oh dear!  Oh dear!  I shall be late!&#39;  (when she thought
it over afterwards, it occurred to her that she ought to have
wondered at this, but at the time it all seemed quite natural);
but when the Rabbit actually TOOK A WATCH OUT OF ITS WAISTCOAT-
POCKET, and looked at it, and then hurried on, Alice started to
her feet, for it flashed across her mind that she had never
before se
</pre></div>
</div>
</div>
</div>
<p>Save textfile in local directory:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fout</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../Data/AliceEnglish.txt&quot;</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">fout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">rawAlice</span><span class="p">)</span>
<span class="n">fout</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Read textfile from local directory:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;../Data/AliceEnglish.txt&quot;</span><span class="p">,</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fin</span><span class="p">:</span>
    <span class="n">rawAliceIn</span><span class="o">=</span><span class="n">fin</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Type of variable: &quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">rawAlice</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of characters in the book: &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">rawAlice</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Type of variable:  &lt;class &#39;str&#39;&gt;
Number of characters in the book:  150886
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="simple-methods-to-get-a-first-impresson-on-text-content">
<h2><span class="section-number">1.1.5. </span>Simple Methods to get a first impresson on text content<a class="headerlink" href="#simple-methods-to-get-a-first-impresson-on-text-content" title="Permalink to this headline">¶</a></h2>
<p>In a first analysis, we want to determine the most frequent words. This shall provide us a first impression on the text content.</p>
<div class="section" id="id1">
<h3><span class="section-number">1.1.5.1. </span>Questions:<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Before some simple text statistics methods (word-frequency) are implemented inspect the downloaded text. <strong>What should be done in advance?</strong></p>
</div>
<div class="section" id="remove-meta-text">
<h3><span class="section-number">1.1.5.2. </span>Remove Meta-Text<a class="headerlink" href="#remove-meta-text" title="Permalink to this headline">¶</a></h3>
<p>The downloaded file does not only contain the story of <em>Alice in Wonderland</em>, but also some meta-information at the start and the end of the file. This meta-information can be excluded, by determining the true start and end of the story. The true start is at the phrase <code class="docutils literal notranslate"><span class="pre">CHAPTER</span> <span class="pre">I</span></code> and the true end is before the phrase <code class="docutils literal notranslate"><span class="pre">THE</span> <span class="pre">END</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">startText</span><span class="o">=</span><span class="n">rawAlice</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;CHAPTER I&quot;</span><span class="p">)</span>
<span class="n">endText</span><span class="o">=</span><span class="n">rawAlice</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;THE END&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">startText</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">endText</span><span class="p">)</span>
<span class="n">rawAlice</span><span class="o">=</span><span class="n">rawAlice</span><span class="p">[</span><span class="n">startText</span><span class="p">:</span><span class="n">endText</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2831
150878
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="tokenisation">
<h3><span class="section-number">1.1.5.3. </span>Tokenisation<a class="headerlink" href="#tokenisation" title="Permalink to this headline">¶</a></h3>
<p>Split the relevant text into a list of words:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">aliceWords</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;?!.:&quot;,&lt;&gt;-»«&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">rawAlice</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="generate-vocabulary-and-determine-number-of-words">
<h3><span class="section-number">1.1.5.4. </span>Generate Vocabulary and determine number of words<a class="headerlink" href="#generate-vocabulary-and-determine-number-of-words" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numWordsAll</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">aliceWords</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of words in the book: &quot;</span><span class="p">,</span><span class="n">numWordsAll</span><span class="p">)</span>
<span class="n">aliceVocab</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">aliceWords</span><span class="p">)</span>
<span class="n">numWordsVocab</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">aliceVocab</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of different words in the book: &quot;</span><span class="p">,</span><span class="n">numWordsVocab</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;In the average each word is used </span><span class="si">%2.2f</span><span class="s2"> times&quot;</span><span class="o">%</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">numWordsAll</span><span class="p">)</span><span class="o">/</span><span class="n">numWordsVocab</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of words in the book:  26406
Number of different words in the book:  3815
In the average each word is used 6.92 times
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="determine-frequency-of-each-word">
<h3><span class="section-number">1.1.5.5. </span>Determine Frequency of each word<a class="headerlink" href="#determine-frequency-of-each-word" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wordFrequencies</span><span class="o">=</span><span class="p">{}</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">aliceVocab</span><span class="p">:</span>
    <span class="n">wordFrequencies</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">=</span><span class="n">aliceWords</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Sort the word-frequency dictionary according to decreasing word-frequency.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">wordFrequencies</span><span class="o">.</span><span class="n">keys</span><span class="p">())[:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">wordFrequencies</span><span class="p">[</span><span class="n">word</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>oblong 1
nevertheless 1
confusing 2
imagine 2
`would 5
finish 5
that&#39;s 17
knocking,&#39; 2
glad 11
deny 2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;40 most frequent words:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">wordFrequencies</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">wordFrequencies</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">40</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">wordFrequencies</span><span class="p">[</span><span class="n">w</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>40 most frequent words:

the 1597
and 786
to 711
a 612
she 522
of 492
said 453
it 427
alice 361
in 350
was 349
you 300
i 272
as 251
her 242
that 233
at 206
on 182
had 176
with 170
all 166
very 139
be 139
for 138
so 135
but 126
little 126
this 124
not 120
`i 120
they 119
out 114
he 112
down 97
what 95
his 95
up 92
about 90
is 88
one 87
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="optimization-by-stop-word-removal">
<h3><span class="section-number">1.1.5.6. </span>Optimization by stop-word removal<a class="headerlink" href="#optimization-by-stop-word-removal" title="Permalink to this headline">¶</a></h3>
<p>Stopwords are words, with low information content, such as determiners (<em>the, a,</em> …), conjunctions (<em>and, or,</em> …), prepositions (<em>in, on, over,</em> …) and so on. For typical information retrieval tasks stopwords are usually ignored. In the code snippet below, a stopword-list from <a class="reference external" href="http://www.nltk.org/">NLTK</a> is applied in order to remove these non-relevant words from the document-word lists. NLTK provides stopwordlists for many different languages. Since our text is written in English, we apply the English stopwordlist:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="n">stopwordlist</span><span class="o">=</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">)</span>
<span class="n">aliceWords</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;?!.:&quot;,&lt;&gt;-»« &#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">rawAlice</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> 
              <span class="k">if</span> <span class="n">word</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="sa">u</span><span class="s1">&#39;?!.:&quot;,&lt;&gt;-»« &#39;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stopwordlist</span><span class="p">]</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">numWordsAll</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">aliceWords</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of words in the book: &quot;</span><span class="p">,</span><span class="n">numWordsAll</span><span class="p">)</span>
<span class="n">aliceVocab</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">aliceWords</span><span class="p">)</span>
<span class="n">numWordsVocab</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">aliceVocab</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of different words in the book: &quot;</span><span class="p">,</span><span class="n">numWordsVocab</span><span class="p">)</span>
<span class="c1">#print(&quot;In the average each word is used %2.2f times&quot;%(float(numWordsAll)/numWordsVocab))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of words in the book:  13599
Number of different words in the book:  3667
</pre></div>
</div>
</div>
</div>
<p>Generate the dictionary for the cleaned text and display it in an ordered form:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wordFrequencies</span><span class="o">=</span><span class="p">{}</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">aliceVocab</span><span class="p">:</span>
    <span class="n">wordFrequencies</span><span class="p">[</span><span class="n">word</span><span class="p">]</span><span class="o">=</span><span class="n">aliceWords</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;40 most frequent words:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">wordFrequencies</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">wordFrequencies</span><span class="o">.</span><span class="n">get</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)[:</span><span class="mi">40</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">wordFrequencies</span><span class="p">[</span><span class="n">w</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>40 most frequent words:

said 453
alice 361
little 126
`i 120
one 87
went 82
like 78
could 77
would 77
thought 72
queen 65
see 63
know 61
* 60
began 58
time 58
king 57
quite 55
mock 55
`and 54
hatter 53
turtle 53
gryphon 53
way 51
go 46
voice 45
looked 45
got 45
get 44
must 43
much 43
say 42
think 42
first 42
never 41
rabbit 41
round 40
head 40
came 40
thing 40
</pre></div>
</div>
</div>
</div>
<p>Another option to calculate the word frequencies in an ordered manner is to apply the <code class="docutils literal notranslate"><span class="pre">nltk</span></code>-class <a class="reference external" href="http://www.nltk.org/api/nltk.html#nltk.probability.FreqDist">FreqDist</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">fd</span><span class="o">=</span><span class="n">nltk</span><span class="o">.</span><span class="n">FreqDist</span><span class="p">(</span><span class="n">aliceWords</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">fd</span><span class="o">.</span><span class="n">most_common</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="n">fd</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[(&#39;said&#39;, 453), (&#39;alice&#39;, 361), (&#39;little&#39;, 126), (&#39;`i&#39;, 120), (&#39;one&#39;, 87), (&#39;went&#39;, 82), (&#39;like&#39;, 78), (&#39;could&#39;, 77), (&#39;would&#39;, 77), (&#39;thought&#39;, 72), (&#39;queen&#39;, 65), (&#39;see&#39;, 63), (&#39;know&#39;, 61), (&#39;*&#39;, 60), (&#39;time&#39;, 58), (&#39;began&#39;, 58), (&#39;king&#39;, 57), (&#39;quite&#39;, 55), (&#39;mock&#39;, 55), (&#39;`and&#39;, 54)]
</pre></div>
</div>
<img alt="../_images/01AccessTextFromFile_42_1.png" src="../_images/01AccessTextFromFile_42_1.png" />
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;Samples&#39;, ylabel=&#39;Counts&#39;&gt;
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./01access"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="01access.html" title="previous page"><span class="section-number">1. </span>Access and Preprocess Text</a>
    <a class='right-next' id="next-link" href="02crawlHTMLcontent.html" title="next page"><span class="section-number">1.2. </span>Access Contents of HTML Page</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Prof. Dr. Johannes Maucher<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>